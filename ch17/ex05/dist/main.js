(()=>{"use strict";const e=document.querySelector("#screen").getContext("2d");function t(t){for(let n=0;n<50;n++)for(let l=0;l<50;l++){const o=t[n][l];e.beginPath(),e.rect(10*l,10*n,10,10),e.fillStyle=o?"black":"white",e.fill(),e.stroke()}}const n=document.querySelector("#screen"),l=(n.getContext("2d"),document.querySelector("#start")),o=document.querySelector("#pause");n.width=500,n.height=500;let c=null;const r=new Audio("./decision1.mp3");let i=new Array(50).fill(null).map((()=>new Array(50).fill(null).map((()=>!!Math.floor(2*Math.random())))));function a(){i=function(e){const t=e.map((e=>[...e]));for(let n=0;n<50;n++)for(let l=0;l<50;l++){let o=[];0===n||49===n||0===l||49===l?0===n&&0===l?o=[e[n][l+1],e[n+1][l],e[n+1][l+1]]:0===n&&49===l?o=[e[n][l-1],e[n+1][l-1],e[n+1][l]]:49===n&&0===l?o=[e[n-1][l],e[n-1][l+1],e[n][l+1]]:49===n&&49===l?o=[e[n-1][l-1],e[n-1][l],e[n][l-1]]:0===n?o=[e[n][l-1],e[n][l+1],e[n+1][l-1],e[n+1][l],e[n+1][l+1]]:49===n?o=[e[n-1][l-1],e[n-1][l],e[n-1][l+1],e[n][l-1],e[n][l+1]]:0===l?o=[e[n-1][l],e[n-1][l+1],e[n][l+1],e[n+1][l],e[n+1][l+1]]:49===l&&(o=[e[n-1][l-1],e[n-1][l],e[n][l-1],e[n+1][l-1],e[n+1][l]]):o=[e[n-1][l-1],e[n-1][l],e[n-1][l+1],e[n][l-1],e[n][l+1],e[n+1][l-1],e[n+1][l],e[n+1][l+1]];let c=o.filter((e=>e)).length;t[n][l]=3===c||!(c<2||c>3)&&e[n][l]}return t}(i),t(i),c=requestAnimationFrame(a)}n.addEventListener("click",(function(e){const l=n.getBoundingClientRect(),o=e.clientX-l.left,c=e.clientY-l.top,a=Math.floor(c/10),u=Math.floor(o/10);i[a][u]=!i[a][u],r.cloneNode().play(),t(i)})),l.addEventListener("click",(()=>{c||a()})),o.addEventListener("click",(()=>{c&&(cancelAnimationFrame(c),c=null)})),t(i)})();